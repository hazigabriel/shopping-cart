{"ast":null,"code":"var _jsxFileName = \"/home/gabriel/Desktop/shopping-cart/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { useState } from 'react';\nimport './App.css';\nimport Navbar from './components/navbar/navbar.js';\nimport Homepage from './components/homepage/homepage.js';\nimport Shop from './components/shop/shop.js';\nimport Cart from \"./components/cart/cart.js\";\nimport ItemDetail from \"./components/itemDetail/itemDetail.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [cartProducts, setCartProducts] = useState([]);\n  const [individualProduct, setIndividualProduct] = useState();\n  const [totalCartItems, setTotalCartItems] = useState(0);\n  const [isPromoActive, setIsPromoActive] = useState([false, \"no discount\"]);\n\n  const addToCart = (product, quantity) => {\n    let newCartProducts = cartProducts;\n    let currentProductIndex;\n    const wasItemAdded = cartProducts.find((item, index) => {\n      currentProductIndex = index;\n      return item[0].id === product.id;\n    });\n\n    if (wasItemAdded) {\n      newCartProducts[currentProductIndex][1] += quantity;\n    } else {\n      newCartProducts.push([product, quantity]);\n    }\n\n    setCartProducts(newCartProducts);\n  };\n\n  const computeCartQuantity = () => {\n    const quantityReducer = (accumulator, currentProdQuantity) => accumulator + currentProdQuantity[1];\n\n    setTotalCartItems(cartProducts.reduce(quantityReducer, 0));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        totalCartItems: totalCartItems\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shopping-cart\",\n          element: /*#__PURE__*/_jsxDEV(Homepage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 51\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shopping-cart/shop\",\n          element: /*#__PURE__*/_jsxDEV(Shop, {\n            cartProducts: cartProducts,\n            setCartProducts: setCartProducts,\n            addToCart: addToCart,\n            individualProduct: individualProduct,\n            setIndividualProduct: setIndividualProduct,\n            computeCartQuantity: computeCartQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shopping-cart/shop/:id\",\n          element: /*#__PURE__*/_jsxDEV(ItemDetail, {\n            individualProduct: individualProduct,\n            addToCart: addToCart,\n            computeCartQuantity: computeCartQuantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shopping-cart/cart\",\n          element: /*#__PURE__*/_jsxDEV(Cart, {\n            cartProducts: cartProducts,\n            setCartProducts: setCartProducts,\n            computeCartQuantity: computeCartQuantity,\n            isPromoActive: isPromoActive,\n            setIsPromoActive: setIsPromoActive,\n            setIndividualProduct: setIndividualProduct\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"ixafeoy6o437wgh5YY4Q2Ut1Aqc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/gabriel/Desktop/shopping-cart/src/App.js"],"names":["BrowserRouter","Routes","Route","useState","Navbar","Homepage","Shop","Cart","ItemDetail","App","cartProducts","setCartProducts","individualProduct","setIndividualProduct","totalCartItems","setTotalCartItems","isPromoActive","setIsPromoActive","addToCart","product","quantity","newCartProducts","currentProductIndex","wasItemAdded","find","item","index","id","push","computeCartQuantity","quantityReducer","accumulator","currentProdQuantity","reduce"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,kBAA7C;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,IAAP,MAAiB,2BAAjB;AACA,OAAOC,UAAP,MAAuB,uCAAvB;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AAEb,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACS,iBAAD,EAAoBC,oBAApB,IAA4CV,QAAQ,EAA1D;AACA,QAAM,CAACW,cAAD,EAAiBC,iBAAjB,IAAsCZ,QAAQ,CAAC,CAAD,CAApD;AACA,QAAM,CAACa,aAAD,EAAgBC,gBAAhB,IAAoCd,QAAQ,CAAC,CAAC,KAAD,EAAQ,aAAR,CAAD,CAAlD;;AAEA,QAAMe,SAAS,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACvC,QAAIC,eAAe,GAAGX,YAAtB;AACA,QAAIY,mBAAJ;AAGA,UAAMC,YAAY,GAAIb,YAAY,CAACc,IAAb,CAAkB,CAACC,IAAD,EAAOC,KAAP,KAAgB;AACpDJ,MAAAA,mBAAmB,GAAGI,KAAtB;AACA,aAAOD,IAAI,CAAC,CAAD,CAAJ,CAAQE,EAAR,KAAeR,OAAO,CAACQ,EAA9B;AACH,KAHqB,CAAtB;;AAKA,QAAGJ,YAAH,EAAiB;AACfF,MAAAA,eAAe,CAACC,mBAAD,CAAf,CAAqC,CAArC,KAA2CF,QAA3C;AACD,KAFD,MAEO;AACLC,MAAAA,eAAe,CAACO,IAAhB,CAAqB,CAACT,OAAD,EAAUC,QAAV,CAArB;AACD;;AAEDT,IAAAA,eAAe,CAACU,eAAD,CAAf;AAED,GAlBD;;AAoBA,QAAMQ,mBAAmB,GAAG,MAAM;AAChC,UAAMC,eAAe,GAAG,CAACC,WAAD,EAAcC,mBAAd,KAAsCD,WAAW,GAAGC,mBAAmB,CAAC,CAAD,CAA/F;;AACAjB,IAAAA,iBAAiB,CAACL,YAAY,CAACuB,MAAb,CAAoBH,eAApB,EAAqC,CAArC,CAAD,CAAjB;AACH,GAHC;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACC,QAAC,aAAD;AAAA,8BACG,QAAC,MAAD;AACE,QAAA,cAAc,EAAEhB;AADlB;AAAA;AAAA;AAAA;AAAA,cADH,eAIK,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,GAAZ;AAAgB,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAzB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,gBAAZ;AAA6B,UAAA,OAAO,eAAE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAtC;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,qBAAZ;AAAkC,UAAA,OAAO,eACvC,QAAC,IAAD;AACE,YAAA,YAAY,EAAEJ,YADhB;AAEE,YAAA,eAAe,EAAEC,eAFnB;AAGE,YAAA,SAAS,EAAEO,SAHb;AAIE,YAAA,iBAAiB,EAAEN,iBAJrB;AAKE,YAAA,oBAAoB,EAAEC,oBALxB;AAME,YAAA,mBAAmB,EAAEgB;AANvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAHF,eAaE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,yBAAZ;AAAsC,UAAA,OAAO,eAC3C,QAAC,UAAD;AACE,YAAA,iBAAiB,EAAEjB,iBADrB;AAEE,YAAA,SAAS,EAAEM,SAFb;AAGE,YAAA,mBAAmB,EAAEW;AAHvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAbF,eAqBE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAC,qBAAZ;AAAkC,UAAA,OAAO,eACvC,QAAC,IAAD;AACE,YAAA,YAAY,EAAEnB,YADhB;AAEE,YAAA,eAAe,EAAEC,eAFnB;AAGE,YAAA,mBAAmB,EAAEkB,mBAHvB;AAIE,YAAA,aAAa,EAAEb,aAJjB;AAKE,YAAA,gBAAgB,EAAEC,gBALpB;AAME,YAAA,oBAAoB,EAAEJ;AANxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADF;AA2CD;;GA3EQJ,G;;KAAAA,G;AA6ET,eAAeA,GAAf","sourcesContent":["import { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport { useState } from 'react';\nimport './App.css';\nimport Navbar from './components/navbar/navbar.js';\nimport Homepage from './components/homepage/homepage.js';\nimport Shop from './components/shop/shop.js';\nimport Cart from \"./components/cart/cart.js\";\nimport ItemDetail from \"./components/itemDetail/itemDetail.js\";\n\nfunction App() {\n  \n  const [cartProducts, setCartProducts] = useState([])\n  const [individualProduct, setIndividualProduct] = useState()\n  const [totalCartItems, setTotalCartItems] = useState(0)\n  const [isPromoActive, setIsPromoActive] = useState([false, \"no discount\"])\n\n  const addToCart = (product, quantity) => {\n    let newCartProducts = cartProducts\n    let currentProductIndex;\n      \n    \n    const wasItemAdded =  cartProducts.find((item, index)=> {\n        currentProductIndex = index\n        return item[0].id === product.id\n    })\n\n    if(wasItemAdded) {\n      newCartProducts[currentProductIndex][1] += quantity\n    } else {\n      newCartProducts.push([product, quantity])\n    }\n    \n    setCartProducts(newCartProducts)\n    \n  }\n\n  const computeCartQuantity = () => {\n    const quantityReducer = (accumulator, currentProdQuantity) => accumulator + currentProdQuantity[1]\n    setTotalCartItems(cartProducts.reduce(quantityReducer, 0))\n}\n\n  return (\n    <div className=\"App\">\n     <BrowserRouter>\n        <Navbar \n          totalCartItems={totalCartItems}  \n        />\n          <Routes>\n            <Route path=\"/\" element={<Homepage />}></Route>\n            <Route path=\"/shopping-cart\" element={<Homepage />}></Route>\n            <Route path=\"/shopping-cart/shop\" element={\n              <Shop \n                cartProducts={cartProducts} \n                setCartProducts={setCartProducts} \n                addToCart={addToCart} \n                individualProduct={individualProduct}\n                setIndividualProduct={setIndividualProduct}\n                computeCartQuantity={computeCartQuantity}  \n              />}>\n            </Route>\n            <Route path=\"/shopping-cart/shop/:id\" element={\n              <ItemDetail  \n                individualProduct={individualProduct}\n                addToCart={addToCart}\n                computeCartQuantity={computeCartQuantity} \n                \n              />}>\n            </Route>\n            <Route path=\"/shopping-cart/cart\" element={\n              <Cart \n                cartProducts={cartProducts} \n                setCartProducts={setCartProducts}\n                computeCartQuantity={computeCartQuantity}  \n                isPromoActive={isPromoActive} \n                setIsPromoActive={setIsPromoActive}\n                setIndividualProduct={setIndividualProduct}\n              /> }>\n            </Route>\n          </Routes>\n        \n      </BrowserRouter>\n       \n    </div>\n  );\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}